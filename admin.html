<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>Admin Login | ININE-CPU</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --main: #8a2be2; --red: #ff4757; --green: #2ecc71; --dark: #0f172a; }
        body { background: var(--dark); color: white; font-family: 'Kanit', sans-serif; margin: 0; }
        
        /* Modal ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ */
        #confirm-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 2000; justify-content: center; align-items: center; }
        .confirm-box { background: #1e293b; padding: 30px; border-radius: 20px; text-align: center; max-width: 320px; border: 1px solid rgba(255,255,255,0.1); }

        /* ‡∏´‡∏ô‡πâ‡∏≤ Login */
        #login-container { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        #login-box { background: #1e293b; padding: 40px; border-radius: 24px; width: 100%; max-width: 350px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); text-align: center; }
        
        /* ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î */
        #login-err { display: none; background: rgba(255, 71, 87, 0.2); color: var(--red); border: 1px solid var(--red); padding: 10px; border-radius: 10px; margin-bottom: 15px; font-weight: bold; }

        header { background: #000; padding: 15px 50px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--main); }
        .logo { font-size: 24px; font-weight: bold; text-decoration: none; color: white; }
        .logo span { color: var(--main); }
        
        .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; display: grid; grid-template-columns: 350px 1fr; gap: 30px; }
        .card { background: rgba(255,255,255,0.05); padding: 25px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); }
        
        input, select, textarea { background: #000; border: 1px solid #444; color: white; padding: 12px; border-radius: 10px; width: 100%; margin-bottom: 15px; box-sizing: border-box; font-family: 'Kanit'; }
        .btn { padding: 12px; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; width: 100%; font-family: 'Kanit'; transition: 0.3s; }
        .btn-main { background: var(--main); color: white; }
    </style>
</head>
<body>

    <div id="confirm-overlay">
        <div class="confirm-box">
            <h3>‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ä‡∏¥‡πâ‡∏ô‡∏ô‡∏µ‡πâ?</h3>
            <p style="color:#94a3b8;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏±‡∏á‡∏ñ‡∏≤‡∏ß‡∏£</p>
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button class="btn" style="background:#475569; color:white;" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="btn" id="confirm-del-btn" style="background:var(--red); color:white;">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡∏ö</button>
            </div>
        </div>
    </div>

    <div id="login-sec">
        <div id="login-container">
            <div id="login-box">
                <h2 style="color:var(--main); margin-bottom:20px;">ADMIN LOGIN</h2>
                
                <div id="login-err">‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!</div>

                <input type="password" id="pw-input" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (1234)">
                <button class="btn btn-main" onclick="checkLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                <div style="margin-top:20px;">
                    <a href="index.html" style="color:#94a3b8; text-decoration:none; font-size:14px;">üè† ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
                </div>
            </div>
        </div>
    </div>

    <div id="admin-sec" style="display:none;">
        <header>
            <a href="index.html" class="logo">ININE-<span>CPU</span></a>
            <div style="display:flex; gap:20px; align-items:center;">
                <a href="index.html" style="color:#ccc; text-decoration:none;">üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                <button onclick="location.reload()" style="background:var(--red); color:white; border:none; padding:8px 15px; border-radius:8px; cursor:pointer;">Logout</button>
            </div>
        </header>

        <div class="container">
            <div class="card">
                <h3>üì¢ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö</h3>
                <textarea id="mq-input" rows="2" placeholder="‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®..."></textarea>
                <button class="btn btn-main" onclick="saveMQ()" style="margin-bottom:30px;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</button>

                <h3>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</h3>
                <select id="n-cat">
                    <option value="cpu">CPU</option><option value="mb">Mainboard</option>
                    <option value="vga">VGA</option><option value="ram">RAM</option>
                    <option value="ssd">SSD</option><option value="psu">PSU</option>
                    <option value="case">Case</option>
                </select>
                <input type="text" id="n-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
                <input type="number" id="n-price" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤">
                <input type="text" id="n-img" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û">
                <button class="btn btn-main" style="background:var(--green);" onclick="addItem()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏•‡∏±‡∏á</button>
            </div>

            <div class="card">
                <h3>üì¶ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö (<span id="count">0</span>)</h3>
                <div id="list-render"></div>
            </div>
        </div>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('pc_db')) || [];
        let delIndex = null;

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Login ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î
        function checkLogin() {
            const pw = document.getElementById('pw-input').value;
            const errBox = document.getElementById('login-err');
            
            if(pw === '1234') {
                document.getElementById('login-sec').style.display = 'none';
                document.getElementById('admin-sec').style.display = 'block';
                renderAdmin();
            } else {
                errBox.style.display = 'block'; // ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
                document.getElementById('pw-input').value = '';
                setTimeout(() => { errBox.style.display = 'none'; }, 3000); // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 3 ‡∏ß‡∏¥
            }
        }

        function renderAdmin() {
            document.getElementById('count').innerText = db.length;
            document.getElementById('list-render').innerHTML = db.map((p, i) => `
                <div style="display:flex; align-items:center; background:rgba(0,0,0,0.3); padding:10px; margin-bottom:10px; border-radius:12px;">
                    <img src="${p.img}" style="width:40px; height:40px; margin-right:15px; background:white; border-radius:5px; object-fit:contain;">
                    <div style="flex:1;"><b>${p.name}</b><br><small style="color:var(--main)">${p.category || p.cat}</small></div>
                    <button onclick="askDelete(${i})" style="color:var(--red); background:none; border:none; cursor:pointer; font-weight:bold;">‡∏•‡∏ö</button>
                </div>
            `).join('');
            document.getElementById('mq-input').value = localStorage.getItem('mq_txt') || "‚ö° ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà ININE-CPU ‚ö°";
        }

        function addItem() {
            let n = document.getElementById('n-name').value, p = document.getElementById('n-price').value, c = document.getElementById('n-cat').value, i = document.getElementById('n-img').value;
            if(!n || !p || !i) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö');
            db.unshift({id: Date.now(), category: c, name: n, price: parseInt(p), img: i});
            localStorage.setItem('pc_db', JSON.stringify(db));
            renderAdmin();
            document.getElementById('n-name').value = ''; document.getElementById('n-price').value = ''; document.getElementById('n-img').value = '';
        }

        // ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ö‡∏ö Inline Modal
        function askDelete(i) { delIndex = i; document.getElementById('confirm-overlay').style.display = 'flex'; }
        function closeModal() { document.getElementById('confirm-overlay').style.display = 'none'; }
        
        document.getElementById('confirm-del-btn').onclick = function() {
            db.splice(delIndex, 1);
            localStorage.setItem('pc_db', JSON.stringify(db));
            renderAdmin();
            closeModal();
        };

        function saveMQ() {
            localStorage.setItem('mq_txt', document.getElementById('mq-input').value);
            alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
        }
    </script>
</body>
</html>